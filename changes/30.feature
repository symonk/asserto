Fixed a bug where raising exceptions and checking them via `should_raise` and `when_called_with` raised the underlying exception.
